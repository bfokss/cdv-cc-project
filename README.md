# <img src="project/static/assets/favicon.ico"> GymTimer <img src="project/static/assets/favicon.ico">

### <b>Collegium Da Vinci</b> - Cloud Computing and IoT class

---

### <b>About project</b>
<br>

This project purpose is to read RFID cards through Raspberry Pi with [this](https://github.com/bfokss/cdv-cc-project/tree/main/project/Rpi/RpiCardReader) application installed and ran on it. Then in the web app generated by Flask you can manage users and their cards, as well as check when they used their cards and check the length of their "gym sessions" <img src="project/static/assets/favicon.ico">

<br>

---

### <b>Project structure</b>
<br>

1. Raspberry Pi with RC522, 3 LED's connected. (runs .NET 6 app)

2. Azure Functions handling RFID Card inputs to database.

3. Azure MS SQL Database

4. Flask web application

<br>

---

### <b>Before you start</b>
<br>

1. Copy this repository to your computer.

        git clone https://github.com/bfokss/cdv-cc-project.git

2. Deploy [this folder](https://github.com/bfokss/cdv-cc-project/tree/main/project/NewEventsTrigger) to Azure Functions App Service, creating new Azure function.

3. Put contents of [this](https://github.com/bfokss/cdv-cc-project/tree/main/project/Rpi) folder on Raspberry Pi and create `config.json` file. <br>

        {
        "url": "YOUR_AZURE_FUNCTION_URL"
        }

4. Run the .NET application on Raspberry Pi using:

        dotnet run

5. Create `Config.py` inside of main folder. It should contain one const. Example:

        CONNECTION_STRING = 'YOUR_CONNECTION_STRING_USING_ODBC'


6. Before you start working on the Flask project, please create and activate virtual environment inside of [main folder](https://github.com/bfokss/cdv-cc-project/tree/main) based on the `requirements.txt` file. Don't know how to do it? Check out [this tutorial](https://frankcorso.dev/setting-up-python-environment-venv-requirements.html).

7. Now activate venv and create first migration to update your database's structure.

        flask db migrate
        flask db upgrade

6. Finally, when venv is activated simply run:

        flask run
    or

        py app.py

7. Now head over to your localhost address. It should look like this:

        http://localhost:5000
    or

        http://127.0.0.1:5000

---


### <b>Using app

1. Home page

![Home page gif](https://media.giphy.com/media/13Jhzc2dkusZXRWjnL/giphy.gif)

2. User profile (Without active gym session)

![User profile no session gif](https://media.giphy.com/media/VdoO1RwnXNuvZRb1Wz/giphy.gif)

3. User profile (With active gym session)

![User profile session gif](https://media.giphy.com/media/WfVAqCrjiHm3UOihIj/giphy.gif)

4. Adding user

![Adding user gif](https://media.giphy.com/media/BgrcW2NoUZ6gqf48h9/giphy.gif)

5. Listing users

![Listing users gif](https://media.giphy.com/media/JQX0Az0x7FgrW0zQ2n/giphy.gif)

6. Assigning users to cards

![Assigning users to cards gif](https://media.giphy.com/media/JQX0Az0x7FgrW0zQ2n/giphy.gif)

7. Adding card

![Adding cards gif](https://media.giphy.com/media/JQX0Az0x7FgrW0zQ2n/giphy.gif)

8. Listing card

![Listing card gif](https://media.giphy.com/media/JQX0Az0x7FgrW0zQ2n/giphy.gif)



</b>

### <b>Authors</b>
- :nerd_face: [bfokss](https://github.com/bfokss)
- :nerd_face: [wdebsqi](https://github.com/wdebsqi)
<br>



---